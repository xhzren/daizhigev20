<div class="breadcrumbs">
  <% breadcrumbs.forEach(function(c, idx) { %>
    <% if (idx) { %> &raquo; <% } %>
    <a href="<%= c.href %>"><%= c.label %></a>
  <% }); %>
</div>

<div class="reader-layout">
  <section class="reader-section">
    <div class="card reader-controls">
      <div class="reader-title">
        <h2><%= fileName %> <% if (optimized) { %><span class="badge">优化版</span><% } %></h2>
      </div>
      <div class="controls">
        <div class="control-group">
          <span>字号</span>
          <button class="btn" id="btn-font-dec" title="减小">A-</button>
          <button class="btn" id="btn-font-reset" title="重置">默认</button>
          <button class="btn" id="btn-font-inc" title="增大">A+</button>
        </div>
        <div class="control-group">
          <span>字体</span>
          <button class="btn" id="btn-font-serif" title="衬线字体">衬线</button>
          <button class="btn" id="btn-font-sans" title="无衬线">无衬线</button>
        </div>
        <div class="control-group">
          <span>主题</span>
          <button class="btn" id="btn-theme-light" title="明亮模式">明</button>
          <button class="btn" id="btn-theme-sepia" title="护眼模式">护眼</button>
          <button class="btn" id="btn-theme-dark" title="暗色模式">暗</button>
        </div>
        <div class="control-group">
          <span>翻页</span>
          <button class="btn" id="btn-mode-slide" title="滑动翻页">滑动</button>
          <button class="btn" id="btn-mode-sim" title="仿真翻页">仿真</button>
          <button class="btn" id="btn-mode-tap" title="点击翻页">点击</button>
        </div>
        <div class="control-group">
          <button class="btn" id="btn-toc-toggle" title="展开/收起目录">目录</button>
        </div>
      </div>
    </div>

    <div class="card reader-card">
      <div id="dg-pager" class="reader-pager mode-slide">
        <div class="pager-viewport">
          <div class="pager-track"></div>
          <div class="tap-zones">
            <div class="zone zone-left" data-dir="prev"></div>
            <div class="zone zone-center"></div>
            <div class="zone zone-right" data-dir="next"></div>
          </div>
          <div class="page-indicator"><span id="page-current">1</span>/<span id="page-total">1</span></div>
        </div>
      </div>
      <article id="reader-source" class="reader-content" style="display:none;">
        <%- contentHtml %>
      </article>
    </div>
  </section>

  <aside class="toc card">
    <h3>目录</h3>
    <% if ((tocItems || []).length) { %>
      <ol class="toc-list">
        <% tocItems.forEach(function(t) { %>
          <li class="level-<%= t.level || 2 %>"><a href="#<%= t.id %>"><%= t.title %></a></li>
        <% }) %>
      </ol>
    <% } else { %>
      <p class="muted">未自动识别章节</p>
    <% } %>
  </aside>
</div>
